(()=>{"use strict";class i{constructor(i){this.popoversPlay=i}init(){this.popoversPlay.addClickListeners(this.onClick.bind(this)),this.popoversPlay.drawUI()}onClick(i){this.popoversPlay.delTooltip(),this.popoversPlay.addTooltip(i),this.popoversPlay.position()}}class e{constructor(){this.container=null,this.clickListeners=[],this.toltipEl=!1,this.tooltip=!1}bindToDOM(i){if(!(i instanceof HTMLElement))throw new Error("container is not HTMLElement");this.container=i}checkBinding(){if(null===this.container)throw new Error("DomPlay not bind to DOM")}drawUI(){this.checkBinding(),this.container.innerHTML='\n        <H2>\n          Popovers - подсказки открываются по допустимому месту начиная справа и по часовой.\n        </H2>\n        <div class="container">\n  \n          <p><a href="" class="has-tooltip" title="50px X 100px">Click to toggle popover</a></p>\n  \n          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi facere dolor dicta accusamus corporis itaque \n          quam deleniti, earum similique alias nostrum corrupti aspernatur, beatae, veniam vel quidem tenetur, odit reiciendis.</p>\n          \n          <p>Laboriosam aliquid neque in itaque at eaque, similique nisi consequatur voluptatem nam blanditiis eum ab, pariatur, \n          harum molestias quas veniam. Aliquam maxime ipsa neque earum accusantium suscipit quasi. Harum, atque.</p>\n  \n          <p>Commodi fugiat vitae facere, provident voluptatem architecto reprehenderit. Nemo natus, qui quia animi voluptatibus. \n          Cupiditate dolores, ducimus, nihil adipisci nemo dolorum aliquam eveniet obcaecati aperiam quis eum corporis velit! Esse.</p>\n  \n          <p>Earum deleniti laborum sunt ea, inventore voluptatum. Excepturi maiores laboriosam fugit, inventore hic quae ipsum, \n          sequi ipsam expedita quisquam provident velit dolorum natus atque qui dignissimos numquam, quam, debitis! Error!</p>\n  \n          <p>Autem iure cum, accusantium soluta dolor beatae voluptas, ipsa ad quas dignissimos. Laboriosam laborum praesentium \n          necessitatibus cumque tempore animi similique corporis quas, ipsam suscipit id possimus deserunt vitae incidunt eos.</p>\n  \n          <p>Autem, temporibus, nihil. Debitis quasi ex minus, delectus doloremque officiis sint facere, ducimus impedit! Sit, minima, \n          et modi reiciendis sequi quo, voluptas dignissimos fugit veritatis quis nobis dolor saepe. Nobis!</p>\n          \n          <p><a href="" class="has-tooltip" title="50px X 100px">Click to toggle popover</a></p>\n  \n          <p>Itaque eum maxime tempora soluta, impedit placeat, dolores quod esse quibusdam saepe consequatur pariatur maiores? \n          Ex minima delectus unde sit repudiandae quidem maxime non velit aliquam temporibus nulla, magnam, laboriosam!</p>\n  \n          <p>Eum maiores doloribus, unde vel, doloremque, perferendis amet perspiciatis et distinctio natus veniam tempora magni \n          possimus. Eius repellat molestiae nihil deserunt accusantium provident soluta eligendi, sequi possimus suscipit, laudantium, rem!</p>\n  \n          <p>Odit voluptas quisquam minus id magni, temporibus cupiditate rem aspernatur nihil ipsam? Minima, tempora perspiciatis doloribus \n          ut nulla. Magni tempore repellendus voluptatem nisi esse minima ipsam, saepe facere et qui?</p>\n  \n          <p>Esse molestiae dolore hic sunt asperiores vitae odio ab voluptatum provident corporis, voluptates ducimus reiciendis inventore, \n          placeat quasi minima dicta nemo voluptas voluptate unde, culpa illum? Modi qui, officia nobis.</p>\n  \n          <p>Enim blanditiis nesciunt, repudiandae, ipsa accusantium  quos vitae magnam modi? Quia eaque natus officiis excepturi adipisci \n          optio voluptate quis ut praesentium vero. Adipisci pariatur molestias harum ullam, incidunt blanditiis officia!</p>\n  \n          <p><a href="" class="has-tooltip" title="50px X 100px">Click to toggle popover</a> </p>\n  \n          <p>Beatae aspernatur eveniet doloribus ullam magnam, reprehenderit odio eius, laboriosam voluptatum cupiditate voluptate officiis \n          fuga neque, inventore magni, labore assumenda porro dolores quidem. Accusantium temporibus consectetur architecto ab, a suscipit?</p>\n  \n          <p>Sit dicta eos magni vel quae est debitis ipsam eligendi veniam totam et perspiciatis reprehenderit itaque excepturi omnis autem \n          nihil explicabo sequi ut optio, officia voluptates sed? Ipsam, rerum maiores.</p>\n  \n          <p>Doloremque fugiat nemo ea, id praesentium illum ab soluta cumque labore nam. Itaque reprehenderit vitae aliquid debitis rerum \n          temporibus cupiditate quos dignissimos! Praesentium molestias provident vero quia esse recusandae magni.</p>\n  \n          <p>Soluta, rem reprehenderit dignissimos excepturi aut alias natus dicta, cumque, sequi, perferendis facere! Neque debitis veritatis \n          ratione in aut, consectetur incidunt sunt cupiditate exercitationem! Perferendis nemo molestias facilis perspiciatis voluptas.</p>\n  \n          <p><a href="" class="has-tooltip" title="50px X 100px">Click to toggle popover</a></p>\n  \n          <p>Totam dicta esse iure repudiandae asperiores culpa accusamus facilis magnam aut nemo earum quia provident necessitatibus, nihil amet, \n          praesentium voluptatibus animi temporibus libero dolorem quis eveniet dolore debitis nisi. Suscipit.</p>\n  \n          <p>Dolores, inventore, minima. Aut assumenda laudantium praesentium, molestiae cumque incidunt animi necessitatibus ut laboriosam. \n          Porro cupiditate laboriosam, eum dicta ut repudiandae aliquam explicabo soluta. Quidem molestiae numquam unde accusantium quasi!</p>\n  \n          <p>Eveniet iusto, placeat architecto enim fugiat obcaecati, ullam perferendis in culpa commodi, provident magnam similique natus nobis. \n          Illum, dolores, voluptate placeat laboriosam soluta cupiditate possimus, ea aspernatur quis debitis sint.</p>\n  \n          <p>Eligendi reiciendis doloremque veritatis rerum corporis voluptatem est expedita porro fuga quae. Nam hic asperiores consequatur odit, \n          ea, illo vitae quis non, aperiam tenetur architecto sint, nisi iure ipsum laudantium.</p>\n  \n          <p>Ad, repellendus doloremque. Debitis molestiae recusandae vero, quasi autem iusto mollitia deserunt odio delectus voluptatum dicta quae, \n          tempora sint doloremque rem. Quod eum fugiat magni nostrum, dolore eligendi vel nisi.</p>\n  \n          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut aspernatur praesentium ipsum perferendis voluptas omnis ab quidem, \n          corrupti corporis aperiam, architecto, doloremque sequi at nisi fugit quaerat molestiae quae consectetur!</p>\n      \n          <p><a href="" class="has-tooltip" title="50px X 100px">Click to toggle popover</a></p>\n      \n          <p>Modi ab asperiores est quae consectetur inventore perferendis! Voluptatibus cumque voluptate repellat, earum ad nulla et natus eligendi. \n          Repellat ad iusto facilis dolorem recusandae, modi suscipit sapiente soluta nihil quam!</p>\n        </div>\n      ',this.container.classList.add("task"),this.hasTooltips=this.container.querySelectorAll(".has-tooltip");for(let i=0;i<this.hasTooltips.length;i+=1)this.hasTooltips[i].addEventListener("click",(i=>this.onClick(i)))}addClickListeners(i){this.clickListeners.push(i)}onClick(i){i.preventDefault();if(this.checkTooltip(i.target))return;this.toltipEl=i.target;const e=this.toltipEl.title;this.clickListeners.forEach((i=>i.call(null,e)))}checkTooltip(i){return this.toltipEl===i&&(this.tooltip.remove(),this.toltipEl=!1,this.tooltip=!1,!0)}addTooltip(i){this.tooltip=document.createElement("div");const e=document.createElement("p"),t=document.createElement("p");e.textContent="Popover Title",t.textContent=i,this.tooltip.appendChild(e),this.tooltip.appendChild(t),this.toltipEl.appendChild(this.tooltip),this.tooltip.classList.add("tooltip")}delTooltip(){this.tooltip&&this.tooltip.remove()}position(){if(!this.toltipEl)return;this.tooltip.dataset.position="top";const{height:i,width:e}=this.tooltip.getBoundingClientRect(),t=this.toltipEl.getBoundingClientRect().width/2-e/2,a=0-i;this.tooltip.style=`left: ${t}px; top: ${a}px`}clearHTML(){this.container.classList.remove("task"),this.container.innerHTML=""}}class t{constructor(){this.container=null,this.taskOneInited=!1}static checkContainer(i){if(!(i instanceof HTMLElement))throw new Error("container is not HTMLElement")}bindToDOM(i){t.checkContainer(i),this.container=i}bindTaskOneToDOM(i){t.checkContainer(i),this.containerTaskOne=i}checkBinding(){if(null===this.container)throw new Error("... not bind to DOM")}drawUI(){this.checkBinding(),this.container.innerHTML='\n      <div class="controls">\n        <button data-id="taskOne" class="btn">Задача № 1</button>\n      </div>\n    ',this.taskOne=this.container.querySelector("[data-id=taskOne]"),this.taskOne.addEventListener("click",(i=>this.onTaskOneClick(i)))}onTaskOneClick(i){i.preventDefault(),this.taskRemover(),this.taskOneInited||this.taskOneInit(),this.taskOneInited=!this.taskOneInited}taskRemover(){this.taskOneInited&&this.taskOneRemove()}taskOneInit(){this.popoversPlay=new e,this.popoversPlay.bindToDOM(this.containerTaskOne),this.popoversPlay.drawUI(),this.popoversController=new i(this.popoversPlay),this.popoversController.init()}taskOneRemove(){this.popoversController.popoversPlay.clearHTML(),this.popoversPlay="",this.popoversController=""}}const a=document.getElementById("nav"),s=document.getElementById("taskOne"),o=new t;o.bindToDOM(a),o.bindTaskOneToDOM(s),o.drawUI(),console.log("app started")})();